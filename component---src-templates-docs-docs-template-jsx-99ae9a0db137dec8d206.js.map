{"version":3,"sources":["webpack://datavizhub-tuos/./src/components/shared/shareButtons.jsx","webpack://datavizhub-tuos/./src/templates/docs/docsTemplate.jsx","webpack://datavizhub-tuos/./src/utils/hooks/trackTableOfContent.jsx"],"names":["shareLinks","tableOfContent","renderItem","githubLink","shareLink","shareMessage","className","left","cascade","delay","duration","style","maxWidth","height","overflow","Twitter","solid","small","message","link","Facebook","Mail","subject","Linkedin","href","target","rel","offset","top","id","backgroundColor","Object","keys","length","items","map","mdx","data","pageContext","frontmatter","title","date","author","disableTOC","prev","next","getShareLinks","d3","d","includes","useScript","withPrefix","tableOfContents","trackTableOfContent","item","key","url","renderSubItem","keywords","async","src","charset","type","minHeight","authors","G","name","image","avatar","childImageSharp","gatsbyImageData","idx","fields","readingTime","text","minWidth","color","borderBottom","displayTags","tocSelector","itemSelector","handleClassList","element","tagName","substring","el","parentElement","rm","classList","remove","add","useEffect","handleTOC","observer","IntersectionObserver","entries","forEach","entry","getAttribute","document","querySelector","intersectionRatio","querySelectorAll","observe","addEventListener","removeEventListener"],"mappings":"uMAkDA,IA3CqB,SAAC,GAAgD,IAA9CA,EAA6C,EAA7CA,WAAYC,EAAiC,EAAjCA,eAAgBC,EAAiB,EAAjBA,WAC1CC,EAAwCH,EAAxCG,WAAYC,EAA4BJ,EAA5BI,UAAWC,EAAiBL,EAAjBK,aAE/B,OACE,yBACE,eAAKC,UAAU,6CACb,QAAC,IAAD,CAAMC,MAAI,EAACC,SAAO,EAACC,MAAO,IAAMC,SAAU,OACxC,eAAKJ,UAAU,wBAAwBK,MAAO,CAACC,SAAU,OAAQC,OAAQ,IAAKC,SAAU,aACtF,QAAC,EAAAC,QAAD,CAAST,UAAU,gEAAgEU,OAAK,EAACC,OAAK,EAACC,QAASb,EAAcc,KAAMf,KAC5H,QAAC,EAAAgB,SAAD,CAAUd,UAAU,0DAA0DU,OAAK,EAACC,OAAK,EAACE,KAAMf,KAChG,QAAC,EAAAiB,KAAD,CAAMf,UAAU,2CAA2CU,OAAK,EAACC,OAAK,EAACK,QAASjB,EAAcc,KAAMf,KACpG,QAAC,EAAAmB,SAAD,CAAUjB,UAAU,0DAA0DU,OAAK,EAACC,OAAK,EAACC,QAASb,EAAcc,KAAMf,KACvH,cAAIE,UAAU,UACd,aAAGkB,KAAMrB,EAAYsB,OAAO,SAASC,IAAI,sBAAsB,WAAS,GAAG,WAAS,mBAAmBC,OAAQ,CAACC,IAAK,IAAKrB,KAAM,OAC9H,eAAKD,UAAU,sGAAoG,QAAC,MAAD,SAGrH,QAAC,IAAD,CAAcuB,GAAG,oBAAjB,gCAMN,eAAKvB,UAAU,gFAAgFK,MAAO,CAACmB,gBAAiB,aACtH,eAAKxB,WAAeL,GAAyD,IAAvC8B,OAAOC,KAAK/B,GAAgBgC,OAAe,WAAa,kBAAhF,uDAAwJtB,MAAO,CAACC,SAAU,UACtL,QAAC,EAAAG,QAAD,CAASC,OAAK,EAACC,OAAK,EAACC,QAASb,EAAcc,KAAMf,KAClD,QAAC,EAAAgB,SAAD,CAAUJ,OAAK,EAACC,OAAK,EAACE,KAAMf,KAC5B,QAAC,EAAAiB,KAAD,CAAML,OAAK,EAACC,OAAK,EAACX,UAAU,aAAagB,QAASjB,EAAcc,KAAMf,KACtE,QAAC,EAAAmB,SAAD,CAAUP,OAAK,EAACC,OAAK,EAACC,QAASb,EAAcc,KAAMf,KACnD,aAAGoB,KAAMrB,EAAYsB,OAAO,SAASC,IAAI,wBACvC,eAAKpB,UAAU,oGAAkG,QAAC,MAAD,UAGrH,eAAKA,UAAS,KAAOL,GAAkBA,EAAeiC,MAAQ,YAAc,UAA9D,oDACTjC,GAAkBA,EAAeiC,QAAS,aAAG5B,UAAU,kDAAb,qBACzCL,GAAkBA,EAAeiC,OAASjC,EAAeiC,MAAMC,IAAIjC,Q,iNC8EjF,UAhGqB,SAAC,GAAoC,IAcpDD,EAd0BmC,EAAyB,EAAjCC,KAAQD,IAAOE,EAAkB,EAAlBA,YACrC,EAA4CF,EAAIG,YAAxCC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,KAAMC,EAArB,EAAqBA,OAAQC,EAA7B,EAA6BA,WACtBC,EAAcN,EAAdM,KAAMC,EAAQP,EAARO,KAEP7C,GAAa8C,QAAcV,GAG3BW,EAAKX,EAAIG,YAAYQ,IAAM,KAChCA,GAAMA,EAAGZ,KAAI,SAACa,GACVA,EAAEC,SAAS,aAAaC,OAAUF,EAAG,IAAI,IACvCE,QAAUC,gBAAW,MAAMH,GAAM,IAAI,OAM1B,IAAfL,EACD1C,EAAiB,MAEjBA,EAAiBmC,EAAIgB,iBACrBC,OAAoB,YAAD,aAIrB,IAAMnD,EAAa,SAACoD,GAAD,OACjB,cAAIC,IAAKD,EAAKd,MAAOlC,UAAU,mBAE7B,aAAGkB,KAAM8B,EAAKE,IAAKlD,UAAU,iBAAe,iBAAIgD,EAAKd,QAEnDc,EAAKpB,OAAS,cAAI5B,UAAU,QAAQgD,EAAKpB,MAAMC,IAAIsB,KAAwB,2BAG3EA,EAAgB,SAAhBA,EAAiBH,GAAD,OACpB,cAAIC,IAAKD,EAAKd,MAAOlC,UAAU,kBAC3BgD,EAAKE,KAAM,aAAGhC,KAAM8B,EAAKE,KAAd,IAAqBF,EAAKd,QAAa,yBAClDc,EAAKpB,OAAU,cAAI5B,UAAU,QAAQgD,EAAKpB,MAAMC,IAAIsB,KAAwB,2BAKlF,OACE,eAAKnD,UAAU,WAAWiD,IAAKnB,EAAIP,KACjC,QAAC,IAAD,CAAKW,MAAOA,EAAOkB,SAAU,CAAC,8BAA+B,qBAAsB,yBAA0B,WAAY,WACzH,QAAC,IAAD,MACE,kBAAQC,OAAK,EAACC,IAAI,0CAA0CC,QAAQ,QAAQC,KAAO,sBAIrF,QAAC,IAAD,CAAMlC,KAAG,EAACnB,MAAO,MACjB,eAAKoB,GAAG,cAAcvB,UAAU,+EAA+EK,MAAO,CAACoD,UAAW,WAChI,eAAKzD,UAAU,+DACb,eAAKA,UAAU,0CACb,cAAIuB,GAAG,QAAQvB,UAAU,qDAAqDkC,KAGhF,eAAKlC,UAAU,0CACZoC,EAAOP,KAAI,SAAC6B,GAAD,OACV,QAAC,EAAAC,EAAD,CAAa3D,UAAU,qGAAqGiD,IAAKS,EAAQE,KAAMC,MAAOH,EAAQI,OAAOC,gBAAgBC,sBAEvL,eAAKhE,UAAU,4DACb,cAAIA,UAAU,wBACXoC,EAAOP,KAAI,SAAC6B,EAASO,GAAV,OAAqB7B,EAAOT,SAAWsC,EAAM,EAAKP,EAAQE,KAAOF,EAAQE,KAAO,WAE9F,cAAI5D,UAAU,sBAAsBmC,EAApC,MAA6CL,EAAIoC,OAAOC,YAAYC,SAGxE,eAAKpE,UAAU,gEAAgEK,MAAO,CAACC,SAAU,SAAU+D,SAAU,eAMzH,eAAKrE,UAAU,wCAAwCK,MAAO,CAACC,SAAU,YAEvE,QAAC,IAAD,CAAcZ,WAAYA,EAAYC,eAAgBA,EAAgBC,WAAYA,KAGlF,eAAKI,UAAS,KAAOL,GAAkBA,EAAeiC,MAAQ,UAAY,IAA5D,uDAAsHvB,MAAO,CAACiE,MAAO,UAAWhE,SAAU,WACtK,QAAC,IAAD,CAAmBwB,IAAKA,EAAK9B,UAAU,oBAIzC,eAAKA,UAAS,KAAOL,GAAkBA,EAAeiC,MAAQ,qBAAuB,IAAvE,0FACZ,aAAG5B,UAAU,4CAA4CK,MAAO,CAACkE,aAAc,sBAA/E,sBACA,eAAKvE,UAAU,+BACXL,GAAkBA,EAAeiC,OAASjC,EAAeiC,MAAMC,IAAIjC,OAK3E,QAAC,IAAD,CAAgBkC,IAAKA,EAAKQ,KAAMA,EAAMC,KAAMA,EAAM7C,WAAYA,EAAY8E,aAAa,KACvF,QAAC,IAAD,CAAS1C,IAAKA,O,kFCjGb,SAASiB,EAAoB0B,EAAaC,GAE/C,SAASC,EAAgBC,EAASC,EAASrB,GACzC,QADqD,IAAZA,MAAK,OAChB,MAA3BqB,EAAQC,UAAU,EAAE,GAAvB,CACA,IAAIC,EAAKH,EAAQI,cACbC,EAAe,WAATzB,EAEVyB,EAAKF,EAAGG,UAAUC,OAAO,UAAYJ,EAAGG,UAAUE,IAAI,UAEvC,OAAZP,GACDF,EAAgBI,EAAGC,cAAJ,KAAuBH,EAAQC,UAAU,GAAM,GAAKG,EAAK,SAAW,SAIvFI,gBAAU,WACR,SAASC,IACP,IAAMC,EAAW,IAAIC,sBAAqB,SAAAC,GACxCA,EAAQC,SAAQ,SAAAC,GACd,IAAIpE,EAAKoE,EAAMxE,OAAOyE,aAAa,MAC/BhB,EAAUiB,SAASC,cAAiBrB,EAA1B,WAAgDlD,EAAhD,MACC,OAAZqD,IAECe,EAAMI,kBAAoB,EAC5BpB,EAAgBC,EAASe,EAAMxE,OAAO0D,SAEtCF,EAAgBC,EAASe,EAAMxE,OAAO0D,QAAS,iBAMrDgB,SAASG,iBAAoBtB,EAA7B,SAAkDgB,SAAQ,SAAC1C,GACzDuC,EAASU,QAAQjD,MAKrB,OAFA6C,SAASK,iBAAiB,mBAAoBZ,GAEvC,WACLO,SAASM,oBAAoB,mBAAoBb,MAElD","file":"component---src-templates-docs-docs-template-jsx-99ae9a0db137dec8d206.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from \"prop-types\"\r\nimport { Twitter, Facebook, Mail, Linkedin } from \"react-social-sharing\"\r\nimport { RiEditBoxLine } from \"react-icons/ri\"\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport Fade from \"react-reveal/Fade\"\r\n\r\nconst shareButtons = ({ shareLinks, tableOfContent, renderItem }) => {\r\n  const { githubLink, shareLink, shareMessage } = shareLinks;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"left-0 top-0 sticky hidden lg:block z-10\">\r\n        <Fade left cascade delay={1000} duration={1300}>   \r\n          <div className=\"flex flex-col text-xs\" style={{maxWidth: \"40px\", height: \"0\", overflow: \"visible\"}}>\r\n            <Twitter className=\"greyScale-100 hover:greyScale-0 mt-28 transition duration-500\" solid small message={shareMessage} link={shareLink} />\r\n            <Facebook className=\"greyScale-100 hover:greyScale-0 transition duration-500\" solid small link={shareLink} />\r\n            <Mail className=\"hover:bg-red-600 transition duration-500\" solid small subject={shareMessage} link={shareLink} />\r\n            <Linkedin className=\"greyScale-100 hover:greyScale-0 transition duration-500\" solid small message={shareMessage} link={shareLink} />\r\n            <hr className=\"my-3\" />\r\n            <a href={githubLink} target=\"_blank\" rel=\"noopener noreferrer\" data-tip=\"\" data-for=\"share_editpost_1\" offset={{top: 100, left: 100}}>\r\n              <div className=\"m-2 mt-1 bg-transparent text-black flex justify-center rounded-md text-xl transition duration-500\"><RiEditBoxLine /></div>\r\n            </a>\r\n\r\n            <ReactTooltip id=\"share_editpost_1\">Edit this page on GitHub</ReactTooltip>\r\n          </div>\r\n        </Fade> \r\n      </div>   \r\n\r\n      {/* mobile: table of content & share buttons */}\r\n      <div className=\"w-full shadow-md flex flex-wrap lg:hidden focus:justify-center -mt-12 lg:mt-0\" style={{backgroundColor: '#f3f3f3'}}>\r\n        <div className={`${ tableOfContent && Object.keys(tableOfContent).length === 0 ? 'flex-row' : 'flex-col w-1/4'} flex text-sm justify-center items-center py-2 ml-10`} style={{maxWidth: '50px'}}>\r\n          <Twitter solid small message={shareMessage} link={shareLink} />\r\n          <Facebook solid small link={shareLink} />\r\n          <Mail solid small className=\"bg-red-600\" subject={shareMessage} link={shareLink} />\r\n          <Linkedin solid small message={shareMessage} link={shareLink} />\r\n          <a href={githubLink} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <div className=\"m-2 py-1 px-2 bg-gray-800 hover:bg-brand-blue text-white flex justify-center rounded-md text-xl\"><RiEditBoxLine /></div>\r\n          </a>\r\n        </div>    \r\n        <div className={` ${ tableOfContent && tableOfContent.items ? 'pt-8 pb-5' : 'hidden'} mx-auto overflow-auto text-black lg:hidden px-2`}>\r\n            {tableOfContent && tableOfContent.items && <p className=\"font-bold mb-3 pb-2 border-b-1 border-gray-300\">TABLE OF CONTENTS</p>}\r\n            { tableOfContent && tableOfContent.items && tableOfContent.items.map(renderItem) }      \r\n        </div>       \r\n      </div>   \r\n    </>\r\n  )\r\n\r\n}\r\n\r\nexport default shareButtons\r\n\r\nshareButtons.propTypes = {\r\n  mdx: PropTypes.any,\r\n}","// BASE\r\nimport React from \"react\"\r\nimport { graphql, withPrefix } from \"gatsby\"\r\nimport PropTypes from \"prop-types\"\r\nimport Helmet from \"react-helmet\"\r\nimport { GatsbyImage } from \"gatsby-plugin-image\"\r\n\r\nimport SEO from \"../../components/shared/seo\"\r\nimport PostPagination from \"../../components/blog/postPagination\"\r\nimport Comment from \"../../components/blog/comment\"\r\nimport ShareButtons from \"../../components/shared/shareButtons\"\r\n\r\n// MDX component\r\nimport CommonMdxProvider from \"../../components/shared/commonMdxProvider\"\r\nimport \"katex/dist/katex.min.css\"\r\n\r\n// Utils\r\nimport { useScript } from \"../../utils/hooks/useScript\"\r\nimport { getShareLinks } from \"../../utils/shared\"\r\nimport { trackTableOfContent } from \"../../utils/hooks/trackTableOfContent\"\r\n\r\nimport Fade from \"react-reveal/Fade\"\r\n\r\n\r\nconst docsTemplate = ({ data: { mdx }, pageContext }) => {\r\n  const { title, date, author, disableTOC } = mdx.frontmatter\r\n  const {prev, next} = pageContext\r\n\r\n  const shareLinks = getShareLinks(mdx);\r\n\r\n  // include d3 scripts\r\n  const d3 = mdx.frontmatter.d3 || null;\r\n  {d3 && d3.map((d) => {\r\n    if(d.includes(\"https://\")) useScript(d, \"\", false);  // external script\r\n    else useScript(withPrefix(`d3/${d}`), \"\", false);   \r\n  })} \r\n\r\n  // enable/disable table of content\r\n  var tableOfContent;\r\n\r\n  if(disableTOC === true) {\r\n    tableOfContent = null\r\n  } else {\r\n    tableOfContent = mdx.tableOfContents\r\n    trackTableOfContent(`.TOC li a`, `.mdxBody`)\r\n  }\r\n\r\n  //Rendering table of content\r\n  const renderItem = (item) => (\r\n    <li key={item.title} className=\"pb-1 list-none\">\r\n      {/* Heading */}\r\n      <a href={item.url} className=\"inline-block\"><p>{item.title}</p></a>\r\n      {/* Sub-heading */}\r\n      { item.items ? (<ul className=\"pl-3\">{item.items.map(renderSubItem)}</ul>) : <></> }\r\n    </li>\r\n  ); \r\n  const renderSubItem = (item) => (\r\n    <li key={item.title} className=\"pt-1 list-none\">\r\n      { item.url ? <a href={item.url}> {item.title}</a> : <></> }\r\n      { item.items ? ( <ul className=\"pl-3\">{item.items.map(renderSubItem)}</ul>) : <></> }\r\n    </li>\r\n  ); \r\n\r\n\r\n  return (\r\n    <div className=\"relative\" key={mdx.id}>\r\n      <SEO title={title} keywords={[\"the university of sheffield\", \"data visualisation\", \"data visualisation hub\", \"research\", \"blog\"]} />\r\n      <Helmet >\r\n        <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\" type = 'text/javascript' /> \r\n      </Helmet>\r\n      \r\n      {/* Top background, title and author etc. */}\r\n      <Fade top delay={300}>\r\n      <div id=\"headElement\" className=\"flex flex-wrap justify-center self-center content-center items-center m-auto\" style={{minHeight: \"500px\"}}>\r\n        <div className=\"flex flex-col flex-wrap text-center text-white pt-24 pb-10\">\r\n          <div className=\"px-3 lg:px-48 2xl:px-78 leading-tight\">\r\n            <h1 id=\"title\" className=\"text-4xl xl:text-5xl text-gray-800 font-extrabold\">{title}</h1>\r\n          </div>\r\n          \r\n          <div className=\"flex justify-center mt-12 items-center\">\r\n            {author.map((authors) => (\r\n              <GatsbyImage className=\"rounded-full mx-1 h-30px w-30px lg:h-40px lg:w-40px 2xl:h-50px 2xl:w-50px border-1 border-gray-100\" key={authors.name} image={authors.avatar.childImageSharp.gatsbyImageData}  />\r\n            ))}\r\n            <div className=\"inline-block px-2 text-left font-semibold text-gray-800\">\r\n              <h1 className=\"text-sm xl:text-base\">\r\n                {author.map((authors, idx) => ( (author.length === idx + 1) ? authors.name : authors.name + \" · \" ))}\r\n              </h1>\r\n              <h1 className=\"text-xs xl:text-sm\">{date} · {mdx.fields.readingTime.text}</h1>\r\n            </div>\r\n          </div> \r\n          <div className=\"pb-2 border-b-1 border-gray-200 hidden md:block mx-auto mt-16\" style={{maxWidth: '1000px', minWidth: '400px'}}></div>\r\n        </div>\r\n      </div>\r\n      </Fade>\r\n\r\n      {/* body */}\r\n      <div className=\"flex flex-wrap relative pt-10 mx-auto\" style={{maxWidth: '1200px'}}>\r\n        {/* desktop share buttons && mobile: table of content & share buttons */}\r\n        <ShareButtons shareLinks={shareLinks} tableOfContent={tableOfContent} renderItem={renderItem} />\r\n   \r\n        {/******** main mdx content  ***********/}\r\n        <div className={` ${ tableOfContent && tableOfContent.items ? 'mdxBody' : ''} relative mx-auto pt-0 pb-32 px-5 text-lg lg:text-xl`} style={{color: '#24292e', maxWidth: '700px'}}>\r\n          <CommonMdxProvider mdx={mdx} className=\"text-gray-100\" />\r\n        </div>\r\n\r\n        {/* sidebar toc: hidden in mobile */}\r\n        <div className={` ${ tableOfContent && tableOfContent.items ? 'lg:w-2/12 lg:block' : ''} hidden noScrollBar lg:sticky lg:top-0 lg:right-0 pt-10 pb-10 max-h-100 overflow-auto`}>\r\n          <p className=\"font-bold mb-4 pb-2 text-gray-800 text-lg\" style={{borderBottom: '1px solid #eaeaea'}}>TABLE OF CONTENTS</p>\r\n          <div className=\"px-1 text-base TOC lg:pb-10\">\r\n            { tableOfContent && tableOfContent.items && tableOfContent.items.map(renderItem) }\r\n          </div>      \r\n        </div>  \r\n      </div>       \r\n \r\n      <PostPagination mdx={mdx} prev={prev} next={next} shareLinks={shareLinks} displayTags={false} />\r\n      <Comment mdx={mdx} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default docsTemplate\r\n\r\ndocsTemplate.propTypes = {\r\n  data: PropTypes.any,\r\n  pageContext: PropTypes.any,\r\n}\r\n\r\nexport const docsQuery = graphql`\r\n  query docsQuery($id: String) {\r\n    ...MdxNode\r\n  }\r\n`\r\n","/* eslint-disable no-unused-vars */\r\nimport { useEffect } from \"react\"\r\n\r\n/**\r\n * \r\n * @param {insert selector for your table of contents elements} tocSelector \r\n * @param {item are selected in the form of `itemSelector [id]`} itemSelector \r\n * \r\n * structure of toc should be :\r\n * <li>\r\n *  <a>some heading</a>\r\n *  <ul>Sub headings\r\n *    <li><a>sub-heading ONE</a></li>\r\n *    <li><a>sub-heading TWO</a></li>\r\n *    ...\r\n * </ul>\r\n * </li>\r\n */\r\nexport function trackTableOfContent(tocSelector, itemSelector) {\r\n  \r\n  function handleClassList(element, tagName, type=\"add\") {\r\n    if(tagName.substring(0,1) !== \"H\") return;\r\n    var el = element.parentElement;\r\n    var rm = (type === \"remove\")\r\n    \r\n    rm ? el.classList.remove('active') : el.classList.add('active');\r\n    \r\n    if(tagName !== \"H1\") {\r\n      handleClassList(el.parentElement, `H${tagName.substring(1,) - 1}`, rm ? \"remove\" : \"add\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    function handleTOC() {\r\n      const observer = new IntersectionObserver(entries => {\r\n        entries.forEach(entry => {\r\n          var id = entry.target.getAttribute('id');\r\n          var element = document.querySelector(`${tocSelector}[href=\"#${id}\"]`)\r\n          if(element === null) return;\r\n\r\n          if (entry.intersectionRatio > 0) {\r\n            handleClassList(element, entry.target.tagName)\r\n          } else {\r\n            handleClassList(element, entry.target.tagName, \"remove\")\r\n          }\r\n        });\r\n      });\r\n    \r\n      // Track all items\r\n      document.querySelectorAll(`${itemSelector} [id]`).forEach((item) => {\r\n        observer.observe(item);\r\n      });\r\n    }\r\n    document.addEventListener('DOMContentLoaded', handleTOC);\r\n\r\n    return () => {\r\n      document.removeEventListener('DOMContentLoaded', handleTOC);\r\n    }\r\n  }, [])\r\n}"],"sourceRoot":""}